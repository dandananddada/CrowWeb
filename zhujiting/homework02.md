JavaScript
=
##JavaScript概述
###1.JavaScript和Java
JavaScript和Java在语言层面上没有什么关系

Java是OOP的编程语言，而Javascript是一个OOP的脚本语言（脚本语言属于编程语言的一种）  

Java可以在虚拟机或浏览器运行，Javascript只能在浏览器运行  
###2.如何在HTML中调用JavaScript
#####调用方式
1.在HTML文件中直接插入JavaScript  
2.外链接导入单独的JavaScript文件  

#####`<script>`标签位置
`<script>`标签可以在HTML的`<head>`标签内使用，也可以在HTML的`</body>`标签前使用。 两者的区别在于：在头部加载js文件情况下，如果此时DOM元素还没有加载完全，那么用到未加载的DOM元素的js代码将会报错。 解决这种问题的方式可以通过js代码在`</body>`前加载，或者在document.onload方法中加载。 但是document.onload是在HTML中所有资源都请求结束后执行的，也就是说如果存在大量图片的情况下，会先向Server端发出加载图片的请求，所有图片加载结束后才会加载js文件，如果页面特效在js中实现的话，这段时间下页面的展现会受到影响。

所以通常情况下需要外链接的js文件都是在HTML的`</body>`标签前定义的。
##词法结构
###1.字符集

1.JavaScript是用Unicode字符集编写的。  
2.JavaScript是区分大小写的。  
3.多数情况下会忽视空格和换行符。  
4.支持Unicode转义序列。  
###2.注释

单行注释//。  
多行注释/**/。
###3.分号
Javascript用分号表示一句代码的结束，如果语句独占一行可以省略分号。 在没有分号会影响代码解析的情况下，Javascript会补填分号。  
##变量和作用域
###1.变量声明
在Javascript中变量声明用var关键字，在声明变量没有赋予初始值的情况下，这个变量的值是undefined。  

如果对一个未声明的变量做赋值操作，JavaScript会给全局对象创建一个同名的全局属性并使它可以作为全局变量来使用。

这种方式声明的全局变量和var关键词声明的全局变量是存在区别的，这种方式其实本质是给全局对象定义了一个属性，其本身是可以通过delete删除的。  
因此在声明全局变量的时候强烈建议使用var关键词
###2.声明提前
JavaScript函数内声明的所有变量(这里特别注意只是声明，声明并赋值的语法只会提取声明部分)都会被提前到函数体的顶部。 
 
在具有块作用域的语言中，变量的声明和引用是建议尽可能临近的，而JavaScript不具备块作用域，所以变量声明统一置于函数体顶部能更清晰的反应变量真实的作用域。
所以这里建议函数体内变量声明尽量置于函数体顶部。  
###3.作用域链
在JavaScript中函数作用域内的变量优先级要高于函数体外的变量，也就是说如果函数体内和函数体外出现同名的变量，其取值是使用函数体内的值。这是因为作用域链的缘故。

作用域链可以理解为一个链表，其规定了解析变量值时的查找顺序，在说明之前需要引入几个概念。

作用域链是和函数嵌套息息相关的，每一个函数可以看做一个上下文，每个上下文都有一个用于存储变量的对象，其中全局上下文的存储对象叫做变量对象(VO, variable object),而函数的存储对象叫做活动对象(AO, activation object)。

一般在全局内声明的函数在激活时它会在自己的AO中存储自己的局部变量，同是通过连接引用全局的VO。同理函数内部嵌套的函数也会在激活时链接上层函数的AO以及全局的VO，这些对象是存储在链表中的，同时存储顺序是越往外层越在链表的尾部。

当JavaScript在解析变量的值是会从链表头部开始逐个AO查找，如果找到就停止，否则查找下一个，直到VO，如果都没有就返回undefined。这就是为什么局部变量的优先级要高了。  
##数据类型
**JavaScript数据类型有**：number, string, Boolean, null, undefined, object。  
###1.原始值和对象
JavaScript中的原始值和对象有着本质的区别，原始值是不可改变的(正如之前说的String的replace方法只是重新创建了一个字符串，而没有改变原始的字符串)，而对象的值是可以改变的。

原始值的比较比较简单，只要值相等那么两个原始值就是相等的，对于String类型，当且仅当长度相等，且每个索引下的字符是相等的那么两个字符串就是相等的。

而对象类型即便两个对象的属性和值都一样也不一定是相等的，因为对象属于引用类型，对于引用类型的比较要求他们指向的是同一个基对象的情况下才是相等的。  
###2.溢出和下溢
当数字运算超过JavaScript所能表述的上限时就会溢出(overflow)，结果会被表述为一个特殊值Infinity(无穷大)，同样负数超过表述上限就会返回-Infinity(负无穷大)。

当运算结果无限接近于零，比JavaScript能表述的最小值要小的时候，就会下溢(underflow)，这时候JavaScript会返回0。  
###3.常用转义字符
\n 换行符  
\r 回车符  


###4.表达式运算符
####关系表达式
==表示相等运算，在做比较时会做类型转换，===表示严格相等，在做比较时不会做类型转换。  

另外NaN不与任何值相等，包括它自身，所以判断一个变量是否为NaN时可以用a!==a，如果返回true说明这个变量是NaN。

在比较运算中，发生类型转换优先转为数字，比如字符串和布尔类型都会转为数字进行比较。  
####instanceof
判断一个对象是否是一个类的实例，注意所有的对象都是Object的实例。  


**delete不能删除var声明的变量**   
##对象

###1.原型
基本每个JavaScript对象都和一个原型对象关联，对象的属性就是从原型对象中继承得到的。可以通过Object.prototype获得原型对象的引用。

其中没有原型对象的对象并不多，Object.prototype就没有原型对象。  
###2.创建对象
**创建对象的三种方法：**

对象直接量。  
通过new关键词。  
Object.create()。  
###3.属性的getter和setter
在ES5中属性可以用setter和getter这两个方法代替，由setter和getter定义的属性叫做存取器属性，它不同于数据属性(数据属性只是一个简单的值)。  
###4.对象序列化  
对象序列号是指将对象的状态转换为字符串，同样字符串也可以还原为对象。  
NaN、Infinity、-Infinity序列化结果是null，日期对象序列化结果是ISO格式日期字符串。但是反序列化依然保留他们的字符形态，而不是转换为日期对象。 除此之外，函数、RegExp、Error对象和undefined不能序列化和还原。  
##数组
###1.创建数组
**创建数组的方式有两种：**  
 1. 直接量表达式。  
 2. 通过构造函数创建。
###2.数组长度
每个数组都有一个length属性。

一般如果索引大于或者等于数组长度时，length的属性值将设置为i+1。

如果设置数组的length小于当前长度时，那些索引值超出修改后数组长度所对应的元素将被删除。

如果设置数组的length大于当前长度时，不会向数组添加新元素，只是在数组尾部创建一个空的区域。  
###3.数组方法
join()    将数组中所有元素转化为字符串连接在一起  
reverse() 将数组中元素颠倒  
sort()  将数组中元素排序  
concat() 和并两个数组  
slice() 截取数组的一部分并返回  
splice() 在指定位置删除指定元素并插入元素  
toString()  将数组中每个元素转化为字符串 
##函数
###1.函数定义
函数命名通常为动词或者以动词为前缀的词组。有些内部函数或者私有函数以下划线为前缀。

函数的定义可以通过以下两种方式实现： 1. 函数定义表达式。 2. 函数声明语句。 其中函数定义表达式不需要名称，一般为一次性使用的。  
###2.函数调用
**函数可以通过如下四种方式调用：**   
1. 作为函数。  
2. 作为方法。   
3. 作为构造函数。  
4. 通过call()和applay()方法调用。  
###3.形参和实参
**可选形参** 在调用函数时传入的实参比定义的形参少的情况下，空缺的参数会设置为undefined,这种可选的实参一般都定义在函数参数列表的最后。  
**可变长实参列表** 有时传入的实参个数是无法确定的，可以定义一种名称为不定实参函数的函数来接受任意数量个参数。 
###4.闭包
函数通过作用域链关联起来，函数体内部变量保存在作用域内，这种特性叫做闭包。  
在一个作用域链中定义两个闭包，这两个闭包共享同样的变量。  
###5.函数的属性
####length

函数自身有一个只读的length属性，它表示函数形参的数量。
####prototype

每个函数都有一个prototype属性，这个属性指向一个原型对象的引用。将函数用作构造函数的时候，新创建的对象会从原型对象上集成属性。  
###6.函数的方法
####bind

bind()方法是用来将函数绑定到某个对象的。  
bind()方法会返回一个函数对象，这个函数对象的length的值是绑定函数的形参个数减去绑定的实参个数。  
####toString
和所有的JavaScript对象一样，函数对象也有toString()方法，函数的toString()方法会返回函数的完整的源码。  
####Function
var f = new Function("x", "y", "return x*y;");  
Function()有以下几点需要说明：

1.Function()允许JavaScript在运行时动态的创建并编译函数。  
2.每次调用Function()都会解析函数体，并创建新的函数对象。其他两种定义函数的方式不会在调用函数时重新编译。  
3.Function()所创建的函数不使用词法作用域，函数体代码的编译都在最顶层函数完成。可以把Function()看做全局作用域下执行的eval()。  
jQuery
=
##1.jQuery的优点
轻量级、可以方便的实现 DOM 操作、拥有选择器功能、可靠的事件处理机制、完善的 Ajax 操作、不污染顶级变量、兼容各大浏览器、支持链式操作、行为层与结构层分离、富含丰富的插件、拥有完善的文档、开源。
##2.jQuery 选择器 
###基本选择器
`#id`	根据id匹配返回单个元素  
.class	 根据 class 匹配返回集合元素  
element	根据元素匹配返回集合元素  
selector1,selector2	匹配 selector1 和 selector2 并返回集合元素  
###层次选择器
ancestor descendant	返回ancestor下所有 descendant元素  
 parent > child	返回 parent下一层的child元素	  
prev + next	返回 prev 后的第一个next元素	   
prev ~siblings	返回prev后的所有siblings元素  
##3.DOM 操作
**DOM** 是 Document Object Model 的缩写，即文档对象模型，DOM 是一种与浏览器、平台、语言无关的接口。使用该接口可用轻松的访问页面中所有的标准组件。

简单的说 DOM 解决了 Javascript 和 Jscript 之间的冲突。	
###操作分类
DOM 操作一般分为三个方面:DOM Core、HTML-DOM、CSS-DOM。

DOM Core可用任何一种支持 DOM 的程序设计语言处理任何一种标记语言写的文档，其中操作方法就是 DOM Core(核心)的组成部分。

如 document.getElementsByTagName("form"); 来获取表单对象。

HTML-DOM 提供了一些简明的记号来描述各种 html 元素的属性。

如 document.forms 提供一个 forms 对象。

CSS-DOM 是针对 CSS 的操作，CSS-DOM 主要用来获取和设置 style 对象的各种属性，从而使网友特呈现出不同的效果。

如 element.style.color="red";  
###样式操作
####获取样式和设置样式

所谓的获取和设置样式是针对元素绑定的样式而言，因为样式也是元素的一个属性，所有可用通过属性的获取和设置实现相应样式的操作。  
####追加样式

样式作为可用叠加使用的属性，可以通过 addClass 方法追加。  
####移除样式

和属性操作类似可以通过 removeClass 方法移除样式。  
####切换样式

切换样式可以通过 toggle()方法实现。  
##4.事件
Javascript和 html 之间交互是通过用户操作浏览器上的页面引发事件来实现的。

jQuery 拓展了 Javascript 的事件处理机制，简化了事件处理语法并增强了事件处理能力。

###加载 DOM

当页面加载完毕后，浏览器或通过 Javascript 为 DOM 元素添加事件。在 Javascript 中通过window.onload 方法实现，而在 jQuery 中则是通过$(document).ready()实现。

两者区别在于前者是将所有元素都加载到浏览器后才会执行，而后者是 DOM 就绪后即可，此时可能有些元素并未加载到浏览器，因为将网页解析为 DOM 树的速度要快于页面中所有相关元素都加载完毕。  
###事件绑定
在 DOM 解析完成后，可以在加载方法中调用 bind 以将元素和特定的事件绑定。  
###合成事件
jQuery 可以通过 hover 和 toggle 方法合成事件。
###移除事件
通过 unbind 方法可以解除元素和事件的绑定，也可以根据参数指定特定的要移除的某事件。   
##5.动画
###常用动画
**show()&hide()**

show/hide 用于操作元素的 display 属性，实现元素的显示和隐藏。

会同时修改元素的多个属性，如宽度、高度、不透明度。  
###自定义动画
jQuery 可以通过 animate 方法自定义动画，从而实现更多的控制。

`animate({params},speed,callback);` //样式属性，速度，动画完成调用的函数。
###动画方法

####callback

callback 一般用于更改 css 样式 如：$(this).css("5px solid blue");

####常用方法

stop 停止动画 is(":animated") 判断元素是否执行动画中。

####其他方法

toggle 切换元素的显隐状态 fadeTo 调整元素不透明度到确定的值。  



